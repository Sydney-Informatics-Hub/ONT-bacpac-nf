# Add SIH logo
# The logo represents the Sydney Informatics Hub, providing credibility and contact information.
custom_logo: "./sydney_informatics_hub_logo.png"
custom_logo_url: "https://www.sydney.edu.au/research/facilities/sydney-informatics-hub.html"
custom_logo_title: "Sydney Informatics Hub, University of Sydney"

# Add summary text
# This section introduces the report, indicating that the data was processed using a standardized pipeline developed by the Sydney Informatics Hub.
intro_text: > 
    This report has been generated by the <a href="https://github.sydney.edu.au/informatics/PIPE-4747-Genomics_In_A_Backpack" target="_blank">Sydney Informatics Hub's Genomics in a Backpack</a> pipeline. For information on how to interpret these results, please see the <a href="https://github.sydney.edu.au/informatics/PIPE-4747-Genomics_In_A_Backpack/tree/master/README.md" target="_blank">documentation</a>.

# Add acknowledgements request
# This text politely requests acknowledgment in any publications or presentations that result from the use of the pipeline, which is essential for continued support and funding.
report_comment: > 
    Acknowledgements (and co-authorship, where appropriate) are an important way for us to demonstrate the value we bring to your research. Your research outcomes are vital for ongoing funding of the Sydney Informatics Hub and national compute facilities. Please see our <a href="https://github.com/Sydney-Informatics-Hub/Bioinformatics?tab=readme-ov-file#information_desk_person-cite-us-to-support-us" target=_blank">GitHub repository</a> for information on how to acknowledge us in your publications.

# Provide contact details
# Includes contact details for further support or inquiries regarding the pipeline and its outputs.
report_header_info:
  - Contact Name: "Sydney Informatics Hub, University of Sydney"
  - Contact E-mail: "sih_info@sydney.edu.au"
  - Application Type: "ONT-bacpac-nf workflow"

# Clean extensions from the filenames
# These extensions are cleaned to make filenames more readable in the report.
fn_clean_exts:
  - ".gz"
  - ".txt"
  - ".k2report"
  - "_allfiles-cat_nr.fastq"

fn_clean_trim:
  - "short_summary.specific.bacteria_odb10."

# Hide unnecessary columns in the report
# Columns that are not relevant to the end user are hidden for clarity.
table_columns_visible:
  "kraken2: taxonomic classification":
    pct_top_one: False
    pct_top_n: False
    pct_unclassified: False
    
  "bakta: Bacterial annotation pipeline":
    Length: False

# Define custom placement of columns in tables
# Columns are reordered to prioritise the most important information for easy interpretation.
table_columns_placement:
  table-general_stats_table:
    Count: 1020
    CDSs: 1030

# Rename columns for clarity
# Column names are modified to be more descriptive and understandable.
table_columns_name:
  Bakta:
    Count: "Number of contigs in assembly"
    CDSs: "Number of Coding sequences (CDS)"

# Customise module descriptions for clarity
# Detailed descriptions are provided to explain the purpose and relevance of each analysis tool to a non-expert audience.

custom_data:
  images:
    title: "Phylogenetic Tree and Heatmap: Genetic Relationships and AMR/Virulence Gene Detection"
    section_name: "combined_plot_mqc_png"
    section_anchor: "combined_plot_mqc_png"
    description: "This heatmap visualises the evolutionary relationships between the samples, showing how closely related they are based on genetic data. Additionally, it provides a heatmap of known virulence and AMR genes identified in the samples."
    image_file: "combined_plot_mqc.png"

  species_stats:
    extra_data:
    - name: "Species Information"
    - data:
      file: summary_id_species_assembly_mqc.txt
      table_separator: "\t"
      columns:
        sample: 'sampleID'
        Species: 'Species'
      plot: false
      plot_type: "generalstats"
      pconfig:
        id: 'sampleID'
        key: 'Species'
        title: 'Species'
        description: 'This table provides information on the species identified from the sequencing data, helping to confirm the expected species or identify contaminants.'

# Ignore irrelevant directories during report generation
# Directories that contain intermediary files not relevant to the final report are ignored to streamline the output.
fn_ignore_dirs:
  - "results/*/*/*qc_metrics"
  - "results/*/bakta/unicyclerChromosomes"
  - "results/*/bakta/flyeChromosomes"
  - "results/*/bakta/prePolished_ChrContigs"
  - "results/*/bakta/unicyclerChromosomes/BUSCO"
  - "results/*/bakta/flyeChromosomes/BUSCO"
  - "results/*/bakta/prePolished_ChrContigs/BUSCO"
  - "results/*/assemblies/plassembler"
  - "results/*/assemblies/Flye_assembly/NonChr_contigs"
  - "results/*/assemblies/unicycler_assembly/NonChr_contigs"

# Order the sections in the report
# Sections are ordered in a way that provides a logical flow for interpreting the data, starting with general statistics and moving to more specific analyses.
report_section_order:
    general_stats:
        order: -9880
    Consensus Assembly Failure Warnings:
        order: -9890
    sampleID_species_table_mqc:
        order: -9900
    kraken:
        order: -9940
    bakta:
        order: -9960 
    combined_plot_mqc_png:
        order: -9980
    multiqc_software_versions:
        order: -10000

remove_sections:
  - kraken-duplication-topfive

# List software versions
# The versions of the software used in the analysis are listed for reproducibility and reference.
software_versions:
  bakta: "1.9.2"
  kraken2: "2.1.3"
  multiqc: "1.20"

# Tidy up various things in the report
# Various options to clean up the report and make it more presentable to the end user.
export_plots: true
disable_version_detection: true
show_analysis_paths: false
show_analysis_time: false
