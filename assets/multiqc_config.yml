# Add SIH logo
# The logo represents the Sydney Informatics Hub, providing credibility and contact information.
custom_logo: "./sydney_informatics_hub_logo.png"
custom_logo_url: "https://www.sydney.edu.au/research/facilities/sydney-informatics-hub.html"
custom_logo_title: "Sydney Informatics Hub, University of Sydney"

# Add summary text
# This section introduces the report, indicating that the data was processed using a standardized pipeline developed by the Sydney Informatics Hub.
intro_text: > 
    This report has been generated by the <a href="https://github.sydney.edu.au/informatics/PIPE-4747-Genomics_In_A_Backpack" target="_blank">Sydney Informatics Hub's Genomics in a Backpack</a> pipeline. For information on how to interpret these results, please see the <a href="https://github.sydney.edu.au/informatics/PIPE-4747-Genomics_In_A_Backpack/tree/master/README.md" target="_blank">documentation</a>.

# Add acknowledgements request
# This text politely requests acknowledgment in any publications or presentations that result from the use of the pipeline, which is essential for continued support and funding.
report_comment: > 
    Acknowledgements (and co-authorship, where appropriate) are an important way for us to demonstrate the value we bring to your research. Your research outcomes are vital for ongoing funding of the Sydney Informatics Hub and national compute facilities. Please see our <a href="https://github.com/Sydney-Informatics-Hub/Bioinformatics?tab=readme-ov-file#information_desk_person-cite-us-to-support-us" target=_blank">GitHub repository</a> for information on how to acknowledge us in your publications.

# Provide contact details
# Includes contact details for further support or inquiries regarding the pipeline and its outputs.
report_header_info:
  - Contact Name: "Sydney Informatics Hub, University of Sydney"
  - Contact E-mail: "sih_info@sydney.edu.au"
  - Application Type: "ONT-bacpac-nf workflow"

# Clean extensions from the filenames
# These extensions are cleaned to make filenames more readable in the report.
fn_clean_exts:
  - ".gz"
  - ".txt"
  - "_allfiles-cat_nr.fastq"
  - "_busco"

fn_clean_trim:
  - "short_summary.specific.bacteria_odb10."

# Hide unnecessary columns in the report
# Columns that are not relevant to the end user are hidden for clarity.
table_columns_visible:
  NanoStat:
    Active channels_seq summary: False

# Define custom placement of columns in tables
# Columns are reordered to prioritise the most important information for easy interpretation.
table_columns_placement:
  table-general_stats_table:
    "Total length": 900
    N50: 1010

# Rename columns for clarity
# Column names are modified to be more descriptive and understandable.
table_columns_name:
    QUAST:
      N50: "N50 contig length"

# Adjust QUAST display units
# QUAST (Quality Assessment Tool for genome assemblies) output is adjusted for readability by using megabase pairs (Mbp).
quast_config:
  contig_length_multiplier: 0.000001
  contig_length_suffix: "Mbp"
  total_length_multiplier: 0.000001
  total_length_suffix: "Mbp"
  total_number_contigs_multiplier: 1
  total_number_contigs_suffix: ""

# Customise module descriptions for clarity
# Detailed descriptions are provided to explain the purpose and relevance of each analysis tool to a non-expert audience.

# NanoStat: Summarizes sequencing run quality
nanostat:
  name: "NanoStat: Summary of the Sequencing Run"
  description: "NanoStat provides an overview of the quality of the ONT sequencing run, including metrics such as read length and quality scores. This helps to assess the overall success of the sequencing process before moving on to more detailed analyses."

custom_data:
  images:
    title: "PycoQC: Summary of the Sequencing Run"
    section_name: "pycoQC_mqc_html"
    section_anchor: "pycoQC_mqc_html"
    description: "PycoQC visualises the quality control metrics of ONT sequencing runs. These plots help in identifying potential issues with sequencing, such as bias in read lengths or poor base calling quality."
    image_file: "pycoQC_mqc.html"

  species_stats:
    extra_data:
    - name: "Species Information"
    - data:
      file: summary_id_species_assembly_mqc.txt
      table_separator: "\t"
      columns:
        sample: 'sampleID'
        Species: 'Species'
      plot: false
      plot_type: "generalstats"
      pconfig:
        id: 'sampleID'
        key: 'Species'
        title: 'Species'
        description: 'This table provides information on the species identified from the sequencing data, helping to confirm the expected species or identify contaminants.'

# Ignore irrelevant directories during report generation
# Directories that contain intermediary files not relevant to the final report are ignored to streamline the output.
fn_ignore_dirs:
  - "results/*/*/*qc_metrics"
  - "results/*/bakta/unicyclerChromosomes"
  - "results/*/bakta/flyeChromosomes"
  - "results/*/bakta/prePolished_ChrContigs"
  - "results/*/quast_QC"
  - "results/*/bakta/unicyclerChromosomes/BUSCO"
  - "results/*/bakta/flyeChromosomes/BUSCO"
  - "results/*/bakta/prePolished_ChrContigs/BUSCO"
  - "results/*/quast_QC"
  - "results/*/assemblies/plassembler"
  - "results/*/assemblies/Flye_assembly/NonChr_contigs"
  - "results/*/assemblies/unicycler_assembly/NonChr_contigs"

# Order the sections in the report
# Sections are ordered in a way that provides a logical flow for interpreting the data, starting with general statistics and moving to more specific analyses.
report_section_order:
    general_stats:
        order: -9880
    sampleID_species_table_mqc:
        order: -9900
    nanostat:
        order: -9910
    pycoQC_mqc_html:
        order: -9920
    porechop:
        order: -9930
    quast:
        order: -9950 
    busco:
        order: -9970
    autocycler_metrics:
        order: -9980
    bandage:
        order: -9990
    multiqc_software_versions:
        order: -10000

# List software versions
# The versions of the software used in the analysis are listed for reproducibility and reference.
software_versions:
  busco: "5.6.1"
  porechop: "0.2.4"
  multiqc: "1.20"

# Tidy up various things in the report
# Various options to clean up the report and make it more presentable to the end user.
export_plots: true
disable_version_detection: true
show_analysis_paths: false
show_analysis_time: false
