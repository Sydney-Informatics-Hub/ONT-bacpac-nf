// Set default resources for each process 
// See https://www.nextflow.io/docs/latest/config.html?highlight=withname#scope-process 
process {
    // Set default resources for all processes
    cpus = 1
    memory = 4.Gb

    // Set process specific resources
    // See https://www.nextflow.io/docs/latest/config.html?highlight=withname#scope-process

    withName: 'concat_fastqs' {
        cpus = 6
        time = '1h'
        memory = 4.Gb
    }

    withName: 'porechop' {
        cpus = 16
        time = '10h'
        memory = 10.Gb
    }

    withName: 'pycoqc_summary' {
        cpus = 1
        time = '10h'
        memory = 20.Gb
    }

    withName: 'nanoplot_summary' {
        cpus = 1
        time = '10h'
        memory = 20.Gb
    }

    withName: 'get_ncbi' {
        cpus = 1
        time = '10h'
        memory = 2.Gb
    }
  
    withName: 'get_bakta' {
        cpus = 1
        time = '10h'
        memory = 2.Gb
    }
    
    withName: 'get_kraken2' {
        cpus = 1
        time = '10h'
        memory = 2.Gb
    }
    
    withName: 'get_amrfinderplus' {
        cpus = 1
        time = '10h'
        memory = 2.Gb
    }
    
    withName: 'get_plassembler' {
        cpus = 1
        time = '10h'
        memory = 2.Gb
    }

    withName: 'get_busco' {
        cpus = 1
        time = '10h'
        memory = 2.Gb
    }

    withName: 'kraken2' {    
        cpus = 24
        time = '10h'
        memory = 190.Gb
    }

    withName: 'flye_assembly' {    
        cpus = 4
        time = '10h'
        memory = 190.Gb
    }

    withName: 'unicycler_assembly' {    
        cpus = 24
        time = '10h'
        memory = 190.Gb
    }
    
    withName: 'flye_assembly_subset' {    
        cpus = 4
        time = '10h'
        memory = 190.Gb
    }

    withName: 'unicycler_assembly_subset' {    
        cpus = 24
        time = '10h'
        memory = 190.Gb
    }

    withName: 'estimate_genome_size_raven' {    
        cpus = 24
        time = '10h'
        memory = 190.Gb
    }

    withName: 'estimate_genome_size_seqtk' {    
        cpus = 1
        time = '1h'
        memory = 10.Gb
    }

    withName: 'trycycler_subsample' {    
        cpus = 4
        time = '10h'
        memory = 20.Gb
        disk = 20.Gb
    }

    withName: 'autocycler_subsample' {    
        cpus = 4
        time = '10h'
        memory = 20.Gb
        disk = 10.Gb
    }
    
    withName: 'autocycler_compress' {    
        cpus = 4
        time = '10h'
        memory = 20.Gb
        disk = 10.Gb
    }

    withName: 'autocycler_cluster' {    
        cpus = 4
        time = '10h'
        memory = 20.Gb
    }

    withName: 'autocycler_trim' {    
        cpus = 4
        time = '10h'
        memory = 20.Gb
    }

    withName: 'autocycler_resolve' {    
        cpus = 1
        time = '1h'
        memory = 10.Gb
    }

    withName: 'autocycler_combine' {    
        cpus = 1
        time = '1h'
        memory = 10.Gb
    }

    withName: 'autocycler_table' {    
        cpus = 1
        time = '1h'
        memory = 10.Gb
    }

    withName: 'trycycler_cluster' {    
        cpus = 4
        time = '10h'
        memory = 20.Gb
    }

    withName: 'trycycler_cluster_subset' {    
        cpus = 4
        time = '10h'
        memory = 20.Gb
        disk = 10.Gb
    }

     withName: 'trycycler_reconcile' {
        cpus = 1
        time = '10h'
        memory = 3.Gb
    }

     withName: 'trycycler_msa' {
        cpus = 1
        time = '10h'
        memory = 3.Gb
    }

    withName: 'trycycler_partition' {
        cpus = 1
        time = '10h'
        memory = 10.Gb
    }

    withName: 'trycycler_consensus' {    
        cpus = 8
        time = '10h'
        memory = 10.Gb
    }    
    
    withName: 'medaka_polish_consensus' {    
        cpus = 2 // medaka itself says more than 2 cpus is a waste
        time = '10h'
        memory = 20.Gb
    }

    withName: 'medaka_polish_denovo' {    
        cpus = 2 // medaka itself says more than 2 cpus is a waste
        time = '10h'
        memory = 20.Gb
    }

    withName: 'plassembler' {    
        cpus = 16 
        time = '10h'
        memory = 20.Gb
    }

    withName: 'bakta_annotation_plasmids' {
        cpus = 1
        time = '10h'
        memory = 10.Gb
    }

    withName: 'bakta_annotation_chromosomes' {
        cpus = 1
        time = '10h'
        memory = 10.Gb
    }

    withName: 'quast_qc_chromosomes' {
        cpus = 1
        time = '1h'
        memory = 5.Gb
    }

    withName: 'abricateVFDB_annotation_chromosomes' {
        cpus = 1
        time = '1h'
        memory = 2.Gb
    }

    withName: 'abricateVFDB_annotation_reference' {
        cpus = 1
        time = '1h'
        memory = 2.Gb
    }

    withName: 'amrfinderplus_annotation_chromosomes' {
        cpus = 1
        time = '1h'
        memory = 2.Gb
    }

    withName: 'amrfinderplus_annotation_reference' {
        cpus = 1
        time = '1h'
        memory = 2.Gb
    }

    withName: 'multiqc_report' {
        cpus = 1
        time = '1h'
        memory = 2.Gb
    }

    withName: 'run_orthofinder' {
        cpus = 16
        time = '10h'
        memory = 10.Gb
    }

    withName: 'create_phylogeny_tree_related_files' {
        cpus = 1
        time = '10h'
        memory = 2.Gb
    }
}